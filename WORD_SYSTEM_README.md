# Word System - User Guide

## Overview
The word system has been updated to support three categories (Who, Where, What) with hints for future functionality.

## File Structure

### CSV File
**Location:** `server/data/csv/words.csv`

**Format:**
```csv
Word,Category,Hint
Albert Einstein,Who,Famous physicist who developed theory of relativity
Paris,Where,Capital city of France
Pizza,What,Italian dish with cheese and toppings
```

**Columns:**
- **Word**: The word or phrase to guess (can include spaces, will be converted to uppercase)
- **Category**: Must be one of: `Who`, `Where`, or `What` (case-sensitive)
- **Hint**: Optional hint text for future hint feature (can be left empty)

### Generated File
**Location:** `server/data/words.js`

This file is auto-generated by the conversion script and should not be edited manually.

## Workflow

### 1. Add/Edit Words
Edit `server/data/csv/words.csv` in Excel, Google Sheets, or any text editor:
- Add new rows with Word, Category, and Hint
- Make sure Category is exactly "Who", "Where", or "What"
- Hints can be empty if desired

### 2. Convert to JavaScript
Run the conversion script:
```bash
npm run convert-words
```

This will:
- Read the CSV file
- Validate each row
- Group words by category
- Convert words to uppercase
- Generate `server/data/words.js`

### 3. Restart Server
If the server is running, restart it to load the new words:
```bash
npm run server
```

## Tips

### CSV Format
- Use commas to separate columns
- If a field contains commas, wrap it in quotes: `"Word, with comma",What,Hint`
- Empty hints are allowed: `Word,Category,`

### Categories
The three categories are:
- **Who**: People, characters, historical figures
- **Where**: Places, locations, landmarks
- **What**: Objects, things, concepts, actions

### Adding More Categories Later
To add more categories:
1. Add words with new category names to the CSV
2. Run `npm run convert-words`
3. The system will automatically recognize new categories

## Example CSV

```csv
Word,Category,Hint
George Washington,Who,First president of the United States
Mount Everest,Where,Tallest mountain in the world
Bicycle,What,Two-wheeled vehicle you pedal
Marie Curie,Who,Scientist who discovered radium
New York City,Where,Largest city in the USA
Piano,What,Musical instrument with black and white keys
```

## Technical Details

### Conversion Script
**File:** `server/data/convertWords.js`

Features:
- Validates category names
- Handles multi-word entries
- Converts words to uppercase for consistency
- Provides detailed logging with emoji
- Skips invalid rows with warnings

### Data Structure
Words are stored as objects with `word` and `hint` properties:
```javascript
{
  "Who": [
    { "word": "ALBERT EINSTEIN", "hint": "Famous physicist..." }
  ],
  "Where": [
    { "word": "PARIS", "hint": "Capital of France" }
  ],
  "What": [
    { "word": "PIZZA", "hint": "Italian dish..." }
  ]
}
```

### Hint Support
The game schema has been updated to support hints:
- `currentTurn.hintQueue` stores hints parallel to `wordQueue`
- Hints are sent to the client but not currently displayed
- Ready for future hint feature implementation

## Troubleshooting

### Script Errors
If the conversion script fails:
- Check that `words.csv` exists in `server/data/csv/`
- Verify CSV format (header row must be: `Word,Category,Hint`)
- Check for invalid category names (must be Who, Where, or What)

### Empty Categories
If a category has no words:
- The script will still generate it as an empty array
- The game will skip empty categories during gameplay

### Invalid Rows
The script will skip rows that:
- Don't have enough columns
- Have empty word or category fields
- Have invalid category names (not Who/Where/What)

Check console output for warnings about skipped rows.

## Future Enhancements

### Hint Feature
The system is ready for a hint feature:
- Hints are already loaded into `currentTurn.hintQueue`
- Client-side changes needed to display hints
- Could add a "Hint" button that shows the current hint
- Could penalize score for using hints

### Additional Categories
To add more categories beyond Who/Where/What:
1. Simply use new category names in the CSV
2. Run the conversion script
3. No code changes needed - the system dynamically handles all categories

## Last Updated
October 22, 2025

